# M4A転写システム - Google Cloud E2環境変数設定
# Container-Optimized OS環境用設定

# アプリケーション設定
APP_NAME=M4A転写システム
APP_VERSION=1.0.0
ENVIRONMENT=production

# サーバー設定
HOST=0.0.0.0
PORT=8000
WORKERS=2
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# ログ設定
LOG_LEVEL=INFO
LOG_FOLDER=/app/logs

# データベース設定（SQLite - 本番では外部DBを推奨）
DATABASE_URL=sqlite:///app/data/m4a_transcribe_production.db
DATABASE_ECHO=false

# ファイルアップロード設定
UPLOAD_FOLDER=/app/uploads
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE_BYTES=52428800

# 許可するファイル拡張子
ALLOWED_EXTENSIONS=.m4a,.mp4,.wav,.mp3

# CORS設定
CORS_ORIGINS=*
CORS_CREDENTIALS=false
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# セキュリティ設定
SECRET_KEY=your-super-secret-key-change-this-in-production
SECURE_COOKIES=true
CSRF_PROTECTION=true

# AI・音声処理設定
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2:7b

# モニタリング設定
ENABLE_METRICS=true
METRICS_RETENTION_HOURS=168

# Redis設定（オプション - キャッシュ有効化時）
REDIS_URL=redis://localhost:6379/0
ENABLE_CACHE=false

# Google Cloud設定
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_APPLICATION_CREDENTIALS=/app/service-account-key.json

# ヘルスチェック設定
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# パフォーマンス設定
# Google Cloud E2インスタンス（2 vCPU, 8GB RAM）最適化
UVICORN_WORKERS=2
UVICORN_WORKER_CONNECTIONS=1000
UVICORN_MAX_REQUESTS=1000
UVICORN_TIMEOUT=30

# メモリ使用量制限（8GB RAMの70%）
MEMORY_LIMIT_MB=5734

# 一時ファイルクリーンアップ間隔（分）
TEMP_FILE_CLEANUP_INTERVAL=60

# ログローテーション設定
LOG_ROTATION_MAX_SIZE_MB=100
LOG_ROTATION_BACKUP_COUNT=30
LOG_COMPRESSION_ENABLED=true

# バックアップ設定
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30

# 開発・デバッグ設定
DEBUG=false
RELOAD=false
PROFILING_ENABLED=false

# タイムゾーン設定
TZ=Asia/Tokyo

# 言語設定
LANG=ja_JP.UTF-8
LC_ALL=ja_JP.UTF-8
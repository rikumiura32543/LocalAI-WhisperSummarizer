# =============================================
# M4A転写システム 環境変数設定例
# =============================================
# 本ファイルを .env にコピーして使用してください

# =================================
# アプリケーション基本設定
# =================================
ENV=development
DEBUG=true
LOG_LEVEL=DEBUG
SECRET_KEY=your-secret-key-change-this-in-production

# =================================
# サーバー設定
# =================================
HOST=0.0.0.0
PORT=8100
WORKERS=2

# =================================
# データベース設定
# =================================
DATABASE_URL=sqlite:///./data/LocalAI-WhisperSummarizer.db
DATABASE_ECHO=false

# =================================
# AI・音声処理設定
# =================================
# Ollama設定
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2:7b
OLLAMA_TIMEOUT=300

# Whisper設定
WHISPER_MODEL=base
WHISPER_DEVICE=cpu

# =================================
# Redis設定（キャッシュ・セッション）
# =================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# =================================
# ファイル処理設定
# =================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE_MB=50
ALLOWED_EXTENSIONS=m4a,mp4,wav,mp3
AUTO_CLEANUP_HOURS=24

# =================================
# セキュリティ設定
# =================================
# JWT設定
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS設定
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# =================================
# Google Cloud設定（本番環境用）
# =================================
GCP_PROJECT_ID=your-project-id
GCP_REGION=asia-northeast1
GCP_STORAGE_BUCKET=m4a-transcribe-storage

# Cloud SQL設定（本番で使用する場合）
# DATABASE_URL=postgresql://user:password@localhost:5432/LocalAI-WhisperSummarizer

# =================================
# 監視・ログ設定
# =================================
# Sentry（エラートラッキング）
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ログ設定
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# =================================
# 機能フラグ
# =================================
ENABLE_METRICS=false
ENABLE_HEALTH_CHECK=true
ENABLE_SWAGGER_UI=true
ENABLE_FILE_VALIDATION=true
ENABLE_BACKUP=false
ENABLE_MONITORING=false

# =================================
# ヘルスチェック設定
# =================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_ENDPOINT=/health

# =================================
# バックアップ設定
# =================================
BACKUP_ENABLED=false
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups
BACKUP_COMPRESSION=true

# =================================
# パフォーマンス設定
# =================================
MEMORY_LIMIT_MB=1024
CPU_LIMIT_CORES=2
TEMP_FILE_CLEANUP_INTERVAL=60
MAX_CONCURRENT_TRANSCRIPTIONS=5
MAX_REQUESTS_PER_MINUTE=60

# =================================
# 本番環境設定（Production）
# =================================
ENVIRONMENT=development
# ENVIRONMENT=production  # 本番環境では変更

# 本番環境でのワーカー数
UVICORN_WORKERS=2
UVICORN_WORKER_CONNECTIONS=1000
UVICORN_MAX_REQUESTS=1000
UVICORN_TIMEOUT=30

# 本番環境での最適化
PRELOAD_MODELS=false  # 本番では true に設定
ENABLE_CACHE=false    # 本番では true に設定

# =================================
# アラート設定
# =================================
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=
ALERT_EMAIL_PASSWORD=
ALERT_EMAIL_TO=admin@example.com

ALERT_SLACK_ENABLED=false
ALERT_SLACK_WEBHOOK_URL=

# =================================
# 開発・テスト設定
# =================================
TEST_DATABASE_URL=sqlite:///./test.db
PYTEST_PARALLEL=auto
COVERAGE_THRESHOLD=80

# =================================
# Docker設定
# =================================
COMPOSE_PROJECT_NAME=localai-whispersummarizer
COMPOSE_FILE=docker-compose.yml

# =================================
# タイムゾーン・ローカライゼーション
# =================================
TZ=Asia/Tokyo
LANG=ja_JP.UTF-8
LC_ALL=ja_JP.UTF-8